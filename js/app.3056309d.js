(function(t){function e(e){for(var a,i,c=e[0],o=e[1],l=e[2],f=0,h=[];f<c.length;f++)i=c[f],s[i]&&h.push(s[i][0]),s[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==s[o]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},s={app:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/animate-scale-tab-page/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0df0":function(t,e,n){"use strict";var a=n("288f"),s=n.n(a);s.a},"288f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),s=n("e508"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},i=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{ref:"tabs",staticClass:"tabs"},[n("div",{staticClass:"bg-mark",style:t.markStyle}),t._l(t.tabs,function(e,a){return n("div",{key:e,ref:"tab",refInFor:!0,staticClass:"tab",class:{active:e===t.current},style:t.tabStyle(a),on:{click:function(n){t.current=e}}},[t._v(t._s(e))])})],2),n("div",{staticClass:"tab-content",style:t.contentStyle},[n("pre",[t._v("Collapse: "+t._s(t.collapse))]),n("pre",[t._v("TabHeight: "+t._s(t.tabHeight)+" -")]),n("pre",[t._v("MetaHeight: "+t._s(t.metaHeight)+" -")]),n("pre",[t._v("contentOffset: "+t._s(t.contentOffset)+" -")]),n("button",{on:{click:t.toggle}},[t._v("Change Collapse")]),n("div",{staticClass:"collapseable-area"},[n("div",{ref:"metas",staticClass:"metas"},[n("div",{staticClass:"metas-bg",style:t.metasBgStyle}),t._l(t.tabs,function(e,a){return n("div",{staticClass:"meta",class:{cur:t.subCur===a},on:{click:function(e){t.subCur=a}}},[t.subCur===a?n("div",{staticClass:"meta-bg",style:t.metasBgStyle}):t._e(),n("div",{staticClass:"extra",style:t.extraStyle},[t._v(t._s(t.tabWidth[a]))]),n("div",{staticClass:"title",style:t.metaItemStyle},[t._v(t._s(a.toLocaleString("zh-Hans-CN-u-nu-hanidec")))])])})],2)]),n("div",{staticClass:"scroll-area",style:t.scrollStyle},[n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.handleInfiniteOnLoad,expression:"handleInfiniteOnLoad"}],staticClass:"scroller",attrs:{"infinite-scroll-disabled":t.loading,"infinite-scroll-distance":10},on:{touchmove:t.touchMove}},[t._l(t.list,function(e,a){return n("div",{key:a,staticClass:"item"},[t._v(t._s(e))])}),n("div",{staticClass:"item",staticStyle:{height:"64px"}},[t._v(t._s(t.loading?"Loading":""))])],2)]),n("div",{staticClass:"safe-area"},[t._v("安全留白区域")])])])},o=[],l=n("75fc"),u=(n("5df3"),n("1c4c"),n("96cf"),n("3b8d")),f=(n("6762"),n("2fdb"),n("487a")),h=n.n(f),d=0,p={name:"Tab",directives:{infiniteScroll:h.a},data:function(){return{tabs:["白","日依","尽, 黄","河入海流","欲穷千里目"],current:"白",subCur:1,collapse:!1,tabHeight:0,tabWidth:[],metaHeight:0,scale:1.5,list:[1,2,3,8,4,5],loading:!1}},computed:{expanded:function(){return this.collapse&&this.tabs.includes(this.current)},currentIdx:function(){return this.tabs.indexOf(this.current)},originOffset:function(){return(this.scale-1)/2*100},contentOffset:function(){return this.collapse||this.currentIdx<0?0:this.tabHeight*(this.scale-1)},contentStyle:function(){return{transform:"translateY(".concat(this.contentOffset,"px)")}},markStyle:function(){this.tabHeight;var t=this.collapse,e=this.tabWidth.slice(0,this.currentIdx).reduce(function(t,e){return t+e},0),n=(this.tabWidth[this.currentIdx],t?1:this.scale),a=(n-1)/2*100,s=this.tabWidth[this.currentIdx]/10*n,r=(s-1)/2*100;return{transform:"translate(".concat(r,"%, ").concat(a,"%) scale(").concat(s,", ").concat(n,") translateX(").concat(e/s,"px)")}},extraStyle:function(){return this.collapse?{transform:"translateY(-50%) scaleY(0)"}:{}},metaItemStyle:function(){return this.collapse?{transform:"translateY(-70%) scale(1.4)"}:{}},metasBgStyle:function(){return this.collapse?{transform:"translateY(-10%) scaleY(0.8)"}:{}},scrollOffset:function(){return this.collapse||this.currentIdx<0?.2*-this.metaHeight:0},scrollStyle:function(){return{transform:"translateY(".concat(this.scrollOffset,"px)")}}},methods:{toggle:function(){this.collapse=!this.collapse},tabStyle:function(t){if(this.collapse)return{};var e=this.currentIdx,n=(this.tabHeight,this.contentOffset),a=n/2;if(t<e)return{transform:"translateY(".concat(a,"px)")};var s=this.originOffset;if(e===t)return{transform:"translate(".concat(s,"%, ").concat(s,"%) scale(").concat(this.scale,")")};if(t>e){var r=this.tabWidth[e],i=r*(this.scale-1);return{transform:"translate(".concat(i,"px, ").concat(a,"px)")}}},handleInfiniteOnLoad:function(){var t=Object(u["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.loading){t.next=2;break}return t.abrupt("return");case 2:return this.loading=!0,console.group(),console.info("~~handleInfiniteOnLoad~~"),t.next=7,new Promise(function(t){return setTimeout(t,456)});case 7:n=this.list.length,a=Array.from({length:20}).map(function(t,e){return(e+n).toLocaleString("zh-Hans-CN-u-nu-hanidec")}),(e=this.list).push.apply(e,Object(l["a"])(a)),this.loading=!1,console.groupEnd();case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),touchMove:function(t){var e=t.touches[0].clientY;this.collapse=e<d,d=e}},mounted:function(){var t=this;this.$nextTick(function(){console.info("this",t.$refs.tabs),t.tabHeight=t.$refs.tabs.offsetHeight,t.metaHeight=t.$refs.metas.offsetHeight,t.tabWidth=t.$refs.tab.map(function(t){return t.offsetWidth})})}},b=p,v=(n("0df0"),n("2877")),m=Object(v["a"])(b,c,o,!1,null,null,null),g=m.exports,y={name:"app",components:{HelloWorld:g}},_=y,x=(n("7c55"),Object(v["a"])(_,r,i,!1,null,null,null)),O=x.exports;a["a"].use(s["a"]),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(O)}}).$mount("#app")},"5c48":function(t,e,n){},"7c55":function(t,e,n){"use strict";var a=n("5c48"),s=n.n(a);s.a}});
//# sourceMappingURL=app.3056309d.js.map